title: "Models Solutions"
author: "PLSC 31101"
date: "Fall 2020"
output: html_document
---

```{r include=FALSE}
library(gapminder)
library(tidyverse)
library(stargazer)
gap <- gapminder
```

## 1. Stats

#### Challenge 1. {-}

Generate 100 random Poisson values with a population mean of 5. How close is the mean of those 100 values to the value of 5? 

#### Challenge 2. {-}

What is the 95th percentile of a chi-square distribution with 1 degree of freedom? 

#### Challenge 3. {-}

What's the probability of getting a value greater than 5 if you draw from a standard normal distribution? What about a t distribution with 1 degree of freedom?


## 2. Models

#### Challenge 1. {-}

Fit two linear regression models from the gapminder data, where the outcome is `lifeExp` and the explanatory variables are `log(pop)`, `log(gdpPercap)`, and `year`. In one model, treat `year` as a numeric variable. In the other, factorize the `year` variable. How do you interpret each model?

```{r}
mod.1 <- lm(lifeExp ~ log(pop) + log(gdpPercap) + year,  data = gap)
summary(mod.1)

mod.2 <- lm(lifeExp ~ log(pop) + log(gdpPercap) + factor(year),  data = gap)
summary(mod.2)
```
The first model behaves like a normal linear model, with all the coefficients (including year) showing the overall change in life expectancy as all the other variables change.
In the second model when year is treated like a factor, it creates a new fit line for each level of the factor (each year). So we are able to see if the rate of change for life expectancy is different in each year.

#### Challenge 2. {-}

Fit a logistic regression model where the outcome is whether `lifeExp` is greater than or less than 60 years, exploring the use of different predictors.

```{r}
gap <- gap %>%
  mutate(lifeExpdummy = if_else(lifeExp >= 60, 1, 0))
 
mod.3 <- glm(lifeExpdummy ~ year + factor(continent), family = binomial(link = "logit"), data = gap)
summary(mod.3)
```

#### Challenge 3. {-}

Using `stargazer`, format a table reporting the results from the three models you created above (two linear regressions and one logistic).

```{r}
stargazer(mod.1, mod.2, mod.3, type = "html")
```

