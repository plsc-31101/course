---
title: "Programming: Solutions"
author: "PLSC 31101"
date: "Fall 2020"
output: html_document
---

```{r include=FALSE}
library(tidyverse)
library(knitr)
library(gapminder)
```

## Functions

#### Challenge 1. {-}

Write a function that calculates the sum of the squared value of two numbers. For instance, it should generate the following output:

```{r eval = F}
# SOLUTION
my_function <- function(donut, kitten) {
  sum <- sum(donut^2,  kitten^2)
  return(sum)
}

my_function(3, 4)
my_function(1,2)
```

#### Challenge 2. {-}

Write `both_na()`, a function that takes two vectors and returns the total number of NAs in both vectors. 

For instance, it should generate the following output:

```{r eval = F}
# SOLUTION
both_na <- function(x, y) {
  sum(is.na(x), is.na(y))
}

both_na(
  c(NA, NA, 1, 2, NA, NA, 1),
  c(NA, 1, NA, 2, NA, NA, 1)
)
```

#### Challenge 3. {-}

Fill in the blanks to create a function that takes a name like "Rochelle Terman" and returns that name in uppercase and reversed, like "TERMAN, ROCHELLE".

```{r eval = F}
# SOLUTION
standard_names <- function(name){
    upper_case = toupper(name) # Make upper
    upper_case_vec = strsplit(upper_case, split = ' ')[[1]]  # Turn into a list
    first_name = upper_case_vec[1]# Take first name
    last_name = upper_case_vec[2] # Take last name
    reversed_name = paste(last_name, first_name, sep = ", ") # Reverse and separate by a comma and space
    return(reversed_name)
}
standard_names('Rochelle Terman')
```

#### Challenge 4. {-}

Look at the following function:

```{r}
print_date <- function(year, month, day){
    joined = paste(as.character(year), as.character(month), as.character(day), sep = "/")
    return(joined)
}
```

Why do the two lines of code below return different values? 

```{r eval = F}
print_date(day=1, month=2, year=2003)
print_date(1, 2, 2003)
```

Line 80 uses keyword arguments; line 81 uses positional arguments. So `year` is assigned to 1, `month` to 2, and `day` to 2003.

## Iteration

### Challenges

Write code that uses one of the `map` functions to:

#### Challenge 1. {-}

Calculate the arithmetic mean for every column in `mtcars`.

```{r}
map(mtcars, mean)
```

#### Challenge 2. {-}

Calculate the number of unique values in each column of `iris`. 

```{r}
iris %>% 
  map(unique) %>%
  map_dbl(length)
```

#### Challenge 3. {-}

Generate 10 random normals for each of $\mu = -10$, $0$, $10$, and $100$.

```{r}
mus <- c(-10, 0, 10, 100)
map(mus, ~rnorm(n = 10, mean = .))
```
